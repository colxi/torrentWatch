{"version":3,"sources":["../../../src/scripts/lib/DOMselector.es6"],"names":[],"mappings":";;;;;;;;;AAOA,IAAM,cAAc;AAChB,aAAU,iBAAW,IAAX,EAAiB,QAAjB,EAA4B;;AAElC,YAAI,YAAY,SAAS,MAAT,CAAgB,CAAhB,CAAhB;AACA,YAAI,WAAW,eAAe,SAAS,eAAvC;AACA,YAAI,kBAAJ;AACA,YAAI,cAAJ;;;AAGA,YAAK,cAAc,GAAnB,EAAyB;AACrB,uBAAW,SAAS,MAAT,CAAiB,CAAjB,EAAoB,SAAS,MAAT,GAAkB,CAAtC,CAAX;AACA,wBAAY,SAAS,KAAT,CAAgB,GAAhB,CAAZ;;AAEA,gBAAK,UAAU,MAAV,GAAmB,CAAxB,EAA4B;AACxB,wBAAQ,IAAR;AACA,0BAAU,CAAV,IAAe,UAAU,CAAV,EAAa,OAAb,CAAsB,IAAtB,EAA4B,EAA5B,EAAiC,OAAjC,CAA0C,IAA1C,EAAgD,EAAhD,CAAf;AACH;AACJ;;;AAGD,eAAQ,QAAQ,SAAS,QAAjB,IAA6B,KAAK,QAAL,KAAkB,CAAvD,EAA0D,OAAO,KAAK,UAAtE,EAAmF;AAC/E,oBAAO,SAAP;;AAEG,qBAAK,GAAL;AACK,wBAAK,QAAL,EAAiB,IAAK,KAAK,SAAL,CAAe,QAAf,CAAyB,SAAS,MAAT,CAAgB,CAAhB,CAAzB,CAAL,EAAqD,OAAO,IAAP,CAArD,KACZ,IAAK,IAAI,MAAJ,CAAW,YAAY,SAAS,MAAT,CAAgB,CAAhB,CAAZ,GAAiC,SAA5C,EAAuD,IAAvD,CAA6D,KAAK,SAAlE,CAAL,EAAqF,OAAO,IAAP;AAC1F;AACJ,qBAAK,GAAL;AACK,wBAAI,KAAK,EAAL,KAAY,SAAS,MAAT,CAAgB,CAAhB,CAAhB,EAAqC,OAAO,IAAP;AACrC;AACL,qBAAK,GAAL;AACI,wBAAK,KAAK,YAAL,CAAmB,UAAU,CAAV,CAAnB,CAAL,EAAyC;AACrC,4BAAK,SAAS,KAAK,YAAL,CAAmB,UAAU,CAAV,CAAnB,MAAsC,UAAU,CAAV,CAApD,EAAmE,OAAO,IAAP,CAAnE,KACK,OAAO,IAAP;AACR;AACD;AACJ;;AAEI,wBAAK,KAAK,OAAL,CAAa,WAAb,OAA+B,QAApC,EAAgD,OAAO,IAAP;AAChD;AAlBR;AAoBH;AACD,eAAO,IAAP;AAEH,KA5Ce;AA6ChB,YAAQ,gBAAS,IAAT,EAAe,QAAf,EAAwB;AAC5B,YAAI,YAAY,QAAQ,KAAK,UAAb,EAAyB,QAAzB,CAAhB;AACA,YAAG,OAAO,SAAP,KAAqB,WAAxB,EAAqC,OAAO,IAAP,CAArC,KACK,OAAO,SAAP;AACR,KAjDe;AAkDhB,UAAO,cAAS,IAAT,EAAe,QAAf,EAAwB;AAC3B,YAAI,YAAY,KAAK,gBAAL,CAAsB,QAAtB,CAAhB;AACA,YAAG,OAAO,SAAP,KAAqB,WAAxB,EAAqC,OAAO,IAAP,CAArC,KACK,OAAO,SAAP;AACR;AAtDe,CAApB","file":"DOMselector.js","sourcesContent":["/**\r\n * Get the closest matching element up the DOM tree.\r\n * @param  {Element} elem     Starting element\r\n * @param  {String}  selector Selector to match against (class, ID, data attribute, or tag)\r\n * @return {Boolean|Element}  Returns null if not match found\r\n */\r\n\r\nconst DOMselector = {\r\n    closest : function ( elem, selector ) {\r\n        // Variables\r\n        let firstChar = selector.charAt(0);\r\n        let supports = 'classList' in document.documentElement;\r\n        let attribute;\r\n        let value;\r\n\r\n        // If selector is a data attribute, split attribute from value\r\n        if ( firstChar === '[' ) {\r\n            selector = selector.substr( 1, selector.length - 2 );\r\n            attribute = selector.split( '=' );\r\n\r\n            if ( attribute.length > 1 ) {\r\n                value = true;\r\n                attribute[1] = attribute[1].replace( /\"/g, '' ).replace( /'/g, '' );\r\n            }\r\n        }\r\n\r\n        // Get closest match\r\n        for ( ; elem && elem !== document && elem.nodeType === 1; elem = elem.parentNode ) {\r\n            switch(firstChar){\r\n                // If selector is a class\r\n               case '.' :\r\n                    if ( supports )  if ( elem.classList.contains( selector.substr(1) ) ) return elem;\r\n                    else if ( new RegExp('(^|\\\\s)' + selector.substr(1) + '(\\\\s|$)').test( elem.className ) ) return elem;\r\n                    break;\r\n                case '#' :\r\n                     if( elem.id === selector.substr(1) ) return elem;\r\n                     break;\r\n                case '[' :\r\n                    if ( elem.hasAttribute( attribute[0] ) ) {\r\n                        if ( value && elem.getAttribute( attribute[0] ) === attribute[1] ) return elem;\r\n                        else return elem;\r\n                    }\r\n                    break;\r\n                default:\r\n                    // If selector is a tag\r\n                    if ( elem.tagName.toLowerCase() === selector )  return elem;\r\n                    break;\r\n            }\r\n        }\r\n        return null;\r\n\r\n    },\r\n    parent :function(elem, selector){\r\n        var selection = closest(elem.parentNode, selector);\r\n        if(typeof selection === 'undefined') return null;\r\n        else return selection;\r\n    },\r\n    find : function(elem, selector){\r\n        let selection = elem.querySelectorAll(selector);\r\n        if(typeof selection === 'undefined') return null;\r\n        else return selection;\r\n    }\r\n};\r\n"]}