{"version":3,"sources":["parseXML.es6"],"names":["_JSON","parseXML","xml","document","createElement","convertCDATAtoTEXT","obj","nodeType","attributes","length","j","attribute","item","nodeName","nodeValue","hasChildNodes","i","childNodes","push","old"],"mappings":";;;;;AAAA;AACA,IAAIA,QAAQ;AACXC,WAAU,oBAA2E;AAAA,MAAlEC,GAAkE,uEAA5DC,SAASC,aAAT,CAAuB,KAAvB,CAA4D;AAAA,MAA5BC,kBAA4B,uEAAP,KAAO;;AACpF;AACA,MAAIC,MAAM,EAAV;;AAEA,MAAIJ,IAAIK,QAAJ,KAAiB,CAArB,EAAwB;AAAE;AACzB;AACA,OAAIL,IAAIM,UAAJ,CAAeC,MAAf,GAAwB,CAA5B,EAA+B;AAC/BH,QAAI,aAAJ,IAAqB,EAArB;AACC,SAAK,IAAII,IAAI,CAAb,EAAgBA,IAAIR,IAAIM,UAAJ,CAAeC,MAAnC,EAA2CC,GAA3C,EAAgD;AAC/C,SAAIC,YAAYT,IAAIM,UAAJ,CAAeI,IAAf,CAAoBF,CAApB,CAAhB;AACAJ,SAAI,aAAJ,EAAmBK,UAAUE,QAA7B,IAAyCF,UAAUG,SAAnD;AACA;AACD;AACD,GATD,MASO,IAAIZ,IAAIK,QAAJ,KAAiB,CAArB,EAAwB;AAAE;AAChCD,SAAMJ,IAAIY,SAAV;AACA,GAFM,MAEA,IAAIZ,IAAIK,QAAJ,KAAiB,CAArB,EAAwB;AAAE;AAChCD,SAAMJ,IAAIY,SAAV;AACA;;AAED;AACA,MAAIZ,IAAIa,aAAJ,EAAJ,EAAyB;AACxB,QAAI,IAAIC,IAAI,CAAZ,EAAeA,IAAId,IAAIe,UAAJ,CAAeR,MAAlC,EAA0CO,GAA1C,EAA+C;AAC9C,QAAIJ,OAAOV,IAAIe,UAAJ,CAAeL,IAAf,CAAoBI,CAApB,CAAX;AACA,QAAIH,WAAWD,KAAKC,QAApB;AACA,QAAGR,sBAAsBQ,aAAa,gBAAtC,EAAwDA,WAAW,OAAX;AACxD,QAAI,OAAOP,IAAIO,QAAJ,CAAP,KAA0B,WAA9B,EAA4CP,IAAIO,QAAJ,IAAgBb,MAAMC,QAAN,CAAeW,IAAf,EAAqBP,kBAArB,CAAhB,CAA5C,KACK;AACJ,SAAI,OAAOC,IAAIO,QAAJ,EAAcK,IAArB,KAA+B,WAAnC,EAAgD;AAC/C,UAAIC,MAAMb,IAAIO,QAAJ,CAAV;AACAP,UAAIO,QAAJ,IAAgB,EAAhB;AACAP,UAAIO,QAAJ,EAAcK,IAAd,CAAmBC,GAAnB;AACA;AACDb,SAAIO,QAAJ,EAAcK,IAAd,CAAmBlB,MAAMC,QAAN,CAAeW,IAAf,EAAqBP,kBAArB,CAAnB;AACA;AACD;AACD;AACD,SAAOC,GAAP;AACA;AAtCU,CAAZ;;kBAyCeN,MAAMC,Q","file":"parseXML.js","sourcesContent":["// Changes XML to JSON\nlet _JSON = {\n\tparseXML: function(xml = document.createElement('xml') , convertCDATAtoTEXT = false) {\n\t\t// Create the return object\n\t\tlet obj = {};\n\n\t\tif (xml.nodeType === 1) { // element\n\t\t\t// do attributes\n\t\t\tif (xml.attributes.length > 0) {\n\t\t\tobj['@attributes'] = {};\n\t\t\t\tfor (let j = 0; j < xml.attributes.length; j++) {\n\t\t\t\t\tlet attribute = xml.attributes.item(j);\n\t\t\t\t\tobj['@attributes'][attribute.nodeName] = attribute.nodeValue;\n\t\t\t\t}\n\t\t\t}\n\t\t} else if (xml.nodeType === 3) { // text\n\t\t\tobj = xml.nodeValue;\n\t\t} else if (xml.nodeType === 4) { // CDATA_SECTION_NODE\n\t\t\tobj = xml.nodeValue;\n\t\t}\n\n\t\t// do children\n\t\tif (xml.hasChildNodes()) {\n\t\t\tfor(let i = 0; i < xml.childNodes.length; i++) {\n\t\t\t\tlet item = xml.childNodes.item(i);\n\t\t\t\tlet nodeName = item.nodeName;\n\t\t\t\tif(convertCDATAtoTEXT && nodeName === '#cdata-section') nodeName = '#text';\n\t\t\t\tif (typeof(obj[nodeName]) === 'undefined')  obj[nodeName] = _JSON.parseXML(item, convertCDATAtoTEXT);\n\t\t\t\telse {\n\t\t\t\t\tif (typeof(obj[nodeName].push) === 'undefined') {\n\t\t\t\t\t\tlet old = obj[nodeName];\n\t\t\t\t\t\tobj[nodeName] = [];\n\t\t\t\t\t\tobj[nodeName].push(old);\n\t\t\t\t\t}\n\t\t\t\t\tobj[nodeName].push(_JSON.parseXML(item, convertCDATAtoTEXT));\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\treturn obj;\n\t}\n};\n\nexport default _JSON.parseXML;\n"]}