{"version":3,"sources":["app.es6"],"names":[],"mappings":"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","file":"app.js","sourcesContent":["/* jsHint inline configuration : */\r\n/* jshint undef: true, unused: false */\r\n/* global chrome , System , pg , rivets , sightglass */\r\n\r\n\r\nlet app ={\r\n\t__constructor(){\r\n\t\tpg.log('[Model]:app.__constructor(): Application Controller Initialization started.');\r\n\t\tpg.log('[Model]:app.__constructor(): Importing App Modules & dependencies...');\r\n\t\treturn new Promise( resolve =>{\r\n\t\t\t// load some required pg modules\r\n\t\t\tpg.load.module('JSON/parseXML' , 'FORM/validation')\r\n\t\t\t\t.then( r => pg.load.model('storage' , 'feedContents') )\r\n            \t// get all Feeds Contents\r\n            \t.then( r => pg.models.feedContents.get() )\r\n            \t// schedule automatic Feed Contents update\r\n            \t.then( r => pg.models.feedContents.scheduleUpdates() )\r\n            \t.then( r =>{\r\n\t\t\t\t\t// make form validation resources bindable\r\n\t\t\t\t\tthis.regExp = pg.FORM.validation.pattern;\r\n\t\t\t\t\tthis.regExpInfo = pg.FORM.validation.title;\r\n\t\t\t\t\tresolve(true);\r\n\t\t\t\t});\r\n\t\t});\r\n\r\n\t},\r\n\r\n\tlocation : 'categories',\r\n\r\n\tregExp : {},\r\n\r\n\tregExpInfo : {},\r\n\r\n\tData : {\r\n\t\twatchers : [\r\n\t\t\t{\r\n\t\t\t\tid \t\t\t: '2d6f8f0c-7cad-252c-5d67-df637b07b62cd Goo\t4',\r\n\t\t\t\tname \t\t: 'ghostbusters',\r\n\t\t\t\tcategories \t: ['f11d24b3-be2f-4bdd-d0e0-2ebf9ba0f5c7'],\r\n\t\t\t\tdirectives \t: [\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tin \t: 'title',\r\n\t\t\t\t\t\thas : 'ghostbusters'\r\n\t\t\t\t\t}\r\n\t\t\t\t],\r\n\t\t\t}\r\n\t\t],\r\n\t\tcategories : [\r\n\t\t\t{\r\n\t\t\t\tid \t\t: 'f11d24b3-be2f-4bdd-d0e0-2ebf9ba0f5c7',\r\n\t\t\t\tname \t: 'movies',\r\n\t\t\t\tfeeds \t: 0\r\n\t\t\t},{\r\n\t\t\t\tid \t\t: 'dd63224e-b59c-4b41-5f99-c63cffbbafe4',\r\n\t\t\t\tname \t: 'music',\r\n\t\t\t\tfeeds \t: 0\r\n\t\t\t},{\r\n\t\t\t\tid \t\t: '44748d67-be92-47a9-a5b6-de502f1e8cb5',\r\n\t\t\t\tname \t: 'software',\r\n\t\t\t\tfeeds \t: 0\r\n\t\t\t},{\r\n\t\t\t\tid \t\t: '91aa33c5-5099-48e8-b6a4-4a5946c0b617',\r\n\t\t\t\tname \t: 'others',\r\n\t\t\t\tfeeds \t: 0\r\n\t\t\t}\r\n\t\t],\r\n\t},\r\n\r\n\r\n\r\n\temptyCategory(){\r\n\t\treturn {\r\n\t\t\tid \t\t: undefined,\r\n\t\t\tname \t: undefined,\r\n\t\t\tfeeds \t: 0\r\n\t\t};\r\n\t},\r\n\r\n\tsaveCategory(c){\r\n\t\tconsole.log('app.saveCategory(): saving category');\r\n\t\tlet i = app.getCategoryIndexById(c.id);\r\n\t\tif(i === -1) i = app.Data.categories.length;\r\n\t\tapp.Data.categories[i] = c;\r\n\t\tapp.countFeedsinAllCategories();\r\n\t\treturn true;\r\n\t},\r\n\r\n\tdeleteCategory(id){\r\n\t\tconsole.log('app.deleteCategory(): deleting category');\r\n\t\tlet i = app.getCategoryIndexById(id);\r\n\t\tif(i === -1) return false;\r\n\t\tapp.Data.categories.splice(i,1);\r\n\t\tapp.countFeedsinAllCategories();\r\n\t\treturn true;\r\n\t},\r\n\r\n\tgetCategoryById(id){\r\n\t\t\tlet i = app.Data.categories.findIndex( cat=>(cat.id === id ) ? true : false );\r\n\t\t\treturn (i === -1) ? -1 : app.Data.categories[i];\r\n\t},\r\n\r\n\tgetCategoryIndexById(id){\r\n\t\treturn app.Data.categories.findIndex( category=>(category.id === id ) ? true : false );\r\n\t},\r\n\r\n\tgetCategoryByName(id){\r\n\t\tlet i = app.Data.categories.findIndex( cat=>(cat.name === id ) ? true : false );\r\n\t\treturn (i === -1) ? -1 : app.Data.categories[i];\r\n\t},\r\n\r\n\r\n\r\n\t// models.categories.updateFeedCount\r\n\tupdateFeedCount(id=undefined){\r\n\t\tlet _update = function(id){\r\n\t\t\tlet category = app.getCategoryById(id);\r\n\t\t\tif(category === -1) return -1;\r\n\r\n\t\t\tcategory.feeds = 0;\r\n\t\t\tfor (let i=0; i < app.Data.feeds.length; i++ ) if(app.Data.feeds[i].categories.indexOf(id) !== -1) category.feeds++;\r\n\t\t\treturn category.feeds;\r\n\t\t};\r\n\t\tif(typeof id === 'undefined') for (let i=0; i < app.Data.categories.length; i++ ) _update( app.Data.categories[i].id );\r\n\t\telse _update( id );\r\n\t\treturn true;\r\n\t},\r\n\r\n\r\n\r\n\r\n\r\n\r\n\tgetFeedItemsProperties : function(feed){\r\n\t\tlet prop = [];\r\n\t\tfor(let i in feed.rss.channel.item[0]){\r\n\t\t \tif( feed.rss.channel.item[0].hasOwnProperty(i) &&  i.charAt(0).match(/[A-Z|a-z]/i) ) prop.push(i);\r\n\t\t}\r\n\t\treturn prop;\r\n\t},\r\n\r\n\r\n\r\n\ttoogleArrayItem(item, array, event, object){\r\n\t\tlet i = array.indexOf(item);\r\n\t\tif(i === -1) array.push(item);\r\n\t\telse array.splice(i, 1);\r\n\t\tconsole.log(arguments);\r\n\t}\r\n};\r\n\r\nexport default app;\r\n"]}