{"version":3,"sources":["../../../src/scripts/controllers/feeds.es6"],"names":[],"mappings":";;;;;;;;;AAAI,Q,GAAQ;AACX,iBADW,2BACI;AACd,WAAM,KAAN,GAAY,IAAI,KAAhB;;AAEA,UAAK,WAAL,GAAoB,SAApB;AACA,UAAK,OAAL,GAAe;AACd,sBAAkB,EADJ;AAEd,YAAU;AAFI,MAAf;AAIA,UAAK,IAAL,GAAY;AACX,YAAM,EADK;AAEX,WAAM,8BAFK;AAGX,kBAAa,EAHF;AAIX,WAAM,EAJK;AAKX,kBAAc;AALH,MAAZ;AAQA,KAjBU;;;AAmBX,UAAO,YAnBI;;AAqBX,SAAM,CAAC,EAAD,EAAI,EAAJ,EAAO,EAAP,EAAU,EAAV,EAAa,EAAb,CArBK;;AAuBX,eAvBW,yBAuBG,CAEb,CAzBU;AA2BX,gBA3BW,0BA2BG;;AAEb,UAAK,WAAL,GAAmB,WAAnB;AACA,KA9BU;AAgCX,kBAhCW,4BAgCK;AACf,aAAQ,GAAR,CAAY,wBAAZ;;AAEA,QAAG,OAAH,CAAW,KAAK,IAAL,CAAU,GAArB,EAA0B,IAA1B,CAA+B,UAAS,MAAT,EAAgB;AAC9C,cAAQ,GAAR,CAAY,MAAZ;;AAEA,WAAK,OAAL,CAAa,cAAb,GAA8B,EAA9B;AACA,WAAK,IAAL,CAAU,UAAV,GAAuB,EAAvB;AACA,UAAG,WAAW,KAAd,EAAoB;AACnB,aAAM,aAAN;AACA,cAAO,KAAP;AACA;;AAED,WAAK,WAAL,GAAkB,aAAlB;AACA,WAAI,IAAI,CAAR,IAAa,OAAO,GAAP,CAAW,OAAX,CAAmB,IAAnB,CAAwB,CAAxB,CAAb,EAAwC;AACtC,WAAI,OAAO,GAAP,CAAW,OAAX,CAAmB,IAAnB,CAAwB,CAAxB,EAA2B,cAA3B,CAA0C,CAA1C,KAAiD,EAAE,MAAF,CAAS,CAAT,EAAY,KAAZ,CAAkB,YAAlB,CAArD,EAAuF,KAAK,OAAL,CAAa,cAAb,CAA4B,IAA5B,CAAiC,CAAjC;AACxF;AACD,MAdD;AAeA,KAlDU;AAoDX,YApDW,sBAoDD;AACT,SAAI,OAAO;AACV,UAAQ,EADE;AAEV,YAAS,EAFC;AAGV,WAAQ,EAHE;AAIV,iBAAY,EAJF;AAKV,WAAQ,CALE;AAMV,kBAAc;AANJ,MAAX;;AASA,UAAK,EAAL,GAAU,GAAG,UAAH,EAAV;AACA,UAAK,IAAL,GAAY,KAAK,IAAL,CAAU,IAAV,CAAe,IAAf,EAAZ;AACA,UAAK,GAAL,GAAW,KAAK,IAAL,CAAU,GAAV,CAAc,IAAd,EAAX;AACA,UAAK,UAAL,GAAkB,KAAK,IAAL,CAAU,UAA5B;AACA,UAAK,GAAL,GAAW,KAAK,IAAL,CAAU,GAArB;AACA,UAAK,UAAL,GAAkB,KAAK,IAAL,CAAU,UAA5B;;AAEA,UAAK,KAAL,CAAW,IAAX,CAAgB,IAAhB;AACA,QAAG,yBAAH;AACA,YAAO,IAAP;AACA;AAxEU,I;;sBA2EG,K","file":"feeds.js","sourcesContent":["let feeds = {\r\n\t__constructor(){\r\n\t\tfeeds.feeds=app.feeds;\r\n\r\n\t\tthis.currentView  = 'listing';\r\n\t\tthis.helpers = {\r\n\t\t\tfeedProperties \t: [],\r\n\t\t\tmode \t\t\t: 'new'\r\n\t\t};\r\n\t\tthis.form = {\r\n\t\t\tname: '',\r\n\t\t\turl : 'https://kat.cr/movies/?rss=1',\r\n\t\t\tcategories : [],\r\n\t\t\tTTL : 60,\r\n\t\t\tproperties :  [],\r\n\t\t};\r\n\r\n\t},\r\n\r\n\ttest : 'fdkmfskgfs',\r\n\r\n\tasd : [23,45,24,64,24],\r\n\r\n\tshowListing() {\r\n\r\n\t},\r\n\r\n\tshowFormData(){\r\n\t\t//\r\n\t\tthis.currentView = 'form:data';\r\n\t},\r\n\r\n\tshowFormConfig(){\r\n\t\tconsole.log('Validating RSS feed...');\r\n\r\n\t\tpg.getFeed(this.form.url).then(function(result){\r\n\t\t\tconsole.log(result);\r\n\r\n\t\t\tthis.helpers.feedProperties = [];\r\n\t\t\tthis.form.properties = [];\r\n\t\t\tif(result === false){\r\n\t\t\t\talert('RSS invalid');\r\n\t\t\t\treturn false;\r\n\t\t\t}\r\n\r\n\t\t\tthis.currentView= 'form:config';\r\n\t\t\tfor(let i in result.rss.channel.item[0]){\r\n\t\t\t \tif( result.rss.channel.item[0].hasOwnProperty(i) &&  i.charAt(0).match(/[A-Z|a-z]/i) ) this.helpers.feedProperties.push(i);\r\n\t\t\t}\r\n\t\t});\r\n\t},\r\n\r\n\tsaveForm(){\r\n\t\tvar feed = {\r\n\t\t\tid \t\t\t: '',\r\n\t\t\tname \t\t: '',\r\n\t\t\turl \t\t: '',\r\n\t\t\tproperies\t: [],\r\n\t\t\tTTL \t\t: 0,\r\n\t\t\tcategories \t: [],\r\n\t\t};\r\n\r\n\t\tfeed.id = pg.createGuid();\r\n\t\tfeed.name = this.form.name.trim();\r\n\t\tfeed.url = this.form.url.trim();\r\n\t\tfeed.categories = this.form.categories;\r\n\t\tfeed.TTL = this.form.TTL;\r\n\t\tfeed.properties = this.form.properties;\r\n\r\n\t\tview.feeds.push(feed);\r\n\t\tpg.countFeedsinAllCategories();\r\n\t\treturn true;\r\n\t}\r\n}\r\n\r\nexport default feeds;\r\n"]}