{"version":3,"sources":["feeds.es6"],"names":[],"mappings":";;;;;AAAA,IAAI,QAAQ;AACX,cADW,2BACI;;AAEd,OAAK,WAAL,GAAoB,SAApB;AACA,OAAK,OAAL,GAAe;AACd,mBAAkB,EADJ;AAEd,SAAU;AAFI,GAAf;AAKA,EATU;;;AAWX,WAAW,YAXA;;AAaX,OAAO;AACN,QAAM,GADA;AAEN,QAAM,EAFA;AAGN,OAAM,8BAHA;AAIN,cAAa,EAJP;AAKN,OAAM,EALA;AAMN,cAAc;AANR,EAbI;;AAsBX,YAtBW,yBAsBG,CAEb,CAxBU;AA0BX,aA1BW,0BA0BG;;AAEb,OAAK,WAAL,GAAmB,WAAnB;AACA,EA7BU;AA+BX,eA/BW,4BA+BK;AACf,UAAQ,GAAR,CAAY,wBAAZ;;AAEA,KAAG,OAAH,CAAW,KAAK,IAAL,CAAU,GAArB,EAA0B,IAA1B,CAA+B,UAAS,MAAT,EAAgB;AAC9C,WAAQ,GAAR,CAAY,MAAZ;;AAEA,QAAK,OAAL,CAAa,cAAb,GAA8B,EAA9B;AACA,QAAK,IAAL,CAAU,UAAV,GAAuB,EAAvB;AACA,OAAG,WAAW,KAAd,EAAoB;AACnB,UAAM,aAAN;AACA,WAAO,KAAP;AACA;;AAED,QAAK,WAAL,GAAkB,aAAlB;AACA,QAAI,IAAI,CAAR,IAAa,OAAO,GAAP,CAAW,OAAX,CAAmB,IAAnB,CAAwB,CAAxB,CAAb,EAAwC;AACtC,QAAI,OAAO,GAAP,CAAW,OAAX,CAAmB,IAAnB,CAAwB,CAAxB,EAA2B,cAA3B,CAA0C,CAA1C,KAAiD,EAAE,MAAF,CAAS,CAAT,EAAY,KAAZ,CAAkB,YAAlB,CAArD,EAAuF,KAAK,OAAL,CAAa,cAAb,CAA4B,IAA5B,CAAiC,CAAjC;AACxF;AACD,GAdD;AAeA,EAjDU;AAmDX,SAnDW,sBAmDD;AACT,MAAI,OAAO;AACV,OAAQ,EADE;AAEV,SAAS,EAFC;AAGV,QAAQ,EAHE;AAIV,cAAY,EAJF;AAKV,QAAQ,CALE;AAMV,eAAc;AANJ,GAAX;;AASA,OAAK,EAAL,GAAU,GAAG,UAAH,EAAV;AACA,OAAK,IAAL,GAAY,KAAK,IAAL,CAAU,IAAV,CAAe,IAAf,EAAZ;AACA,OAAK,GAAL,GAAW,KAAK,IAAL,CAAU,GAAV,CAAc,IAAd,EAAX;AACA,OAAK,UAAL,GAAkB,KAAK,IAAL,CAAU,UAA5B;AACA,OAAK,GAAL,GAAW,KAAK,IAAL,CAAU,GAArB;AACA,OAAK,UAAL,GAAkB,KAAK,IAAL,CAAU,UAA5B;;AAEA,OAAK,KAAL,CAAW,IAAX,CAAgB,IAAhB;AACA,KAAG,yBAAH;AACA,SAAO,IAAP;AACA;AAvEU,CAAZ;;kBA0Ee,K","file":"feeds.js","sourcesContent":["let feeds = {\r\n\t__constructor(){\r\n\r\n\t\tthis.currentView  = 'listing';\r\n\t\tthis.helpers = {\r\n\t\t\tfeedProperties \t: [],\r\n\t\t\tmode \t\t\t: 'new'\r\n\t\t};\r\n\r\n\t},\r\n\r\n\tlocation : 'feeds/list',\r\n\r\n\tform : {\r\n\t\tstep :'1',\r\n\t\tname: '',\r\n\t\turl : 'https://kat.cr/movies/?rss=1',\r\n\t\tcategories : [],\r\n\t\tTTL : 60,\r\n\t\tproperties :  [],\r\n\t},\r\n\r\n\tshowListing() {\r\n\r\n\t},\r\n\r\n\tshowFormData(){\r\n\t\t//\r\n\t\tthis.currentView = 'form:data';\r\n\t},\r\n\r\n\tshowFormConfig(){\r\n\t\tconsole.log('Validating RSS feed...');\r\n\r\n\t\tpg.getFeed(this.form.url).then(function(result){\r\n\t\t\tconsole.log(result);\r\n\r\n\t\t\tthis.helpers.feedProperties = [];\r\n\t\t\tthis.form.properties = [];\r\n\t\t\tif(result === false){\r\n\t\t\t\talert('RSS invalid');\r\n\t\t\t\treturn false;\r\n\t\t\t}\r\n\r\n\t\t\tthis.currentView= 'form:config';\r\n\t\t\tfor(let i in result.rss.channel.item[0]){\r\n\t\t\t \tif( result.rss.channel.item[0].hasOwnProperty(i) &&  i.charAt(0).match(/[A-Z|a-z]/i) ) this.helpers.feedProperties.push(i);\r\n\t\t\t}\r\n\t\t});\r\n\t},\r\n\r\n\tsaveForm(){\r\n\t\tvar feed = {\r\n\t\t\tid \t\t\t: '',\r\n\t\t\tname \t\t: '',\r\n\t\t\turl \t\t: '',\r\n\t\t\tproperies\t: [],\r\n\t\t\tTTL \t\t: 0,\r\n\t\t\tcategories \t: [],\r\n\t\t};\r\n\r\n\t\tfeed.id = pg.createGuid();\r\n\t\tfeed.name = this.form.name.trim();\r\n\t\tfeed.url = this.form.url.trim();\r\n\t\tfeed.categories = this.form.categories;\r\n\t\tfeed.TTL = this.form.TTL;\r\n\t\tfeed.properties = this.form.properties;\r\n\r\n\t\tview.feeds.push(feed);\r\n\t\tpg.countFeedsinAllCategories();\r\n\t\treturn true;\r\n\t}\r\n}\r\n\r\nexport default feeds;\r\n"]}